正如大家所知道的，全局变量是放在全局内存中的，但反过来却未必成立。用static修饰的局部变量就是放在放全局内存的，它的作用域是局部的，但生命期是全局的。在有的嵌入式平台中，堆实际上就是一个全局变量，它占用相当大的一块内存，在运行时，把这块内存进行二次分配。

在ELF格式的可执行文件中，全局内存包括三种：bss、data和rodata

![img](https://img-blog.csdn.net/20150114145446070?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZ2ZnZHNn/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

1. **bss**

   通俗的说，bss是指那些没有初始化的和初始化为0的全局变量。

   bss类型的全局变量只占运行时的内存空间，而不占文件空间

2. **data**

   指那些初始化过（非零）的非const的全局变量。data类型的全局变量是即占文件空间，又占用运行时内存空间的。编译期完成初始化

3. **rodata**

   ro代表read only，即只读数据(const)

   常量不一定就放在rodata里，有的立即数直接编码在指令里，存放在代码段(.text)中。
   对于字符串常量，编译器会自动去掉重复的字符串，保证一个字符串在一个可执行文件(EXE/SO)中只存在一份拷贝。

   把在运行过程中不会改变的数据设为rodata类型的，是有很多好处的：在多个进程间共享，可以大大提高空间利用率，甚至不占用RAM空间。同时由于rodata在只读的内存页面(page)中，是受保护的，任何试图对它的修改都会被及时发现，这可以帮助提高程序的稳定性。

4. **static**

   关键字用途太多，以致于让新手模糊。不过，总结起来就有两种作用，改变生命期和限制作用域。如：
   l 修饰inline函数：限制作用域
   l 修饰普通函数：限制作用域
   l 修饰局部变量：改变生命期
   l 修饰全局变量：限制作用域

5. **violatile**关键字通常用来修饰多线程共享的全局变量和IO内存。告诉编译器，不要把此类变量优化到寄存器中，每次都要老老实实的从内存中读取，因为它们随时都可能变化。