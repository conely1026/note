###### 一、Linux 虚拟地址空间如何分布？

Linux 使用虚拟地址空间，大大增加了进程的寻址空间，由低地址到高地址分别为： 
**1、只读段**：该部分空间只能读，不可写；(包括：**代码段、rodata 段**(C常量字符串和#define定义的常量) )
**2、数据段**：保存**全局变量、静态变量**的空间（.data  .bss）； 
**3、堆** ：就是平时所说的动态内存， malloc/new 大部分都来源于此。其中堆顶的位置可通过函数 brk 和 sbrk 进行动态调整。 
**4、文件映射区域** ：如**动态库、共享内存**等映射物理空间的内存，一般是 mmap 函数所分配的虚拟地址空间。 
**5、栈**：用于维护函数调用的上下文空间，一般为 8M ，可通过 ulimit –s 查看。 
**6、内核虚拟空间：**用户代码不可见的内存区域，由内核管理(页表就存放在内核虚拟空间)。

![1346958767_5909](D:\qq数据\244735385\FileRecv\zuoye\1346958767_5909.png)

![1346953222_3290](D:\qq数据\244735385\FileRecv\zuoye\1346953222_3290.png)
